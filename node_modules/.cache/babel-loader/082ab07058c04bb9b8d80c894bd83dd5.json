{"ast":null,"code":"var _jsxFileName = \"/Users/slavaP/Desktop/labs/Final_Project/goplay_frontend/src/GroupsContainer.js\";\nimport React, { Fragment } from \"react\";\nimport { Redirect, NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport GroupCard from './GroupCard';\n\nclass GroupsContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      groupsAvailable: [],\n      unfilteredAvailable: [],\n      created: false\n    };\n\n    this.handleChange = event => {\n      switch (event.target.value) {\n        case 'New York, NY':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable.filter(group => group.attributes.location === event.target.value)\n          });\n          break;\n\n        case 'Los Angeles, CA':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n\n        case 'Miami, FL':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n\n        case 'Soccer':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n\n        case 'Volleyball':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n\n        case 'Baseball':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n\n        case 'Ice Hockey':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n\n        case 'New York, NY':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n\n        case 'event_number':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n\n        case 'team_number':\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n\n        default:\n          this.setState({\n            groupsAvailable: this.state.unfilteredAvailable\n          });\n          break;\n      }\n\n      this.setState({\n        sort_by: event.target.value\n      });\n      console.log(event.target.value);\n    };\n\n    this.createGroup = () => {\n      this.setState({\n        created: true\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:3000/api/v1/groups\").then(res => res.json()).then(groups => {\n      if (this.props.add === 0) {\n        this.setState({\n          groupsAvailable: groups.groups.data,\n          unfilteredAvailable: groups.groups.data\n        });\n      } else {\n        console.log(this.props, groups.groups.data);\n        let filteredGroup = groups.groups.data.filter(group => group.attributes.activity.id === this.props.myTeam.attributes.activity_id && !this.props.myTeam.attributes.groups.find(currGroup => currGroup.id === group.attributes.id));\n        this.setState({\n          groupsAvailable: filteredGroup\n        });\n      }\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.myTeam !== this.props.myTeam) {\n      fetch(\"http://localhost:3000/api/v1/groups\").then(res => res.json()).then(groups => {\n        if (this.props.add === 0) {\n          this.setState({\n            groupsAvailable: groups.groups.data,\n            unfilteredAvailable: groups.groups.data\n          });\n        } else {\n          console.log(groups.groups.data);\n          let filteredGroup = groups.groups.data.filter(group => group.attributes.activity.id === this.props.myTeam.attributes.activity_id);\n          this.setState({\n            groupsAvailable: filteredGroup\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    if (this.state.created) {\n      this.setState({\n        created: false\n      });\n      return React.createElement(Redirect, {\n        to: \"/create_group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"search-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, this.props.add === 0 ? React.createElement(\"form\", {\n      onChange: this.handleChange,\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"field\",\n      style: {\n        right: \"0\",\n        marginTop: \"-20px\",\n        marginBottom: \"0px\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"select\",\n      style: {\n        textAlignLast: \"center\"\n      },\n      defaultValue: \"\",\n      name: \"location\",\n      id: \"select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Sort or filter by:\"), React.createElement(\"option\", {\n      value: \"location\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Filter by location:\"), React.createElement(\"option\", {\n      value: \"New York, NY\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"New York, NY\"), React.createElement(\"option\", {\n      value: \"Los Angeles, CA\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Los Angeles, CA\"), React.createElement(\"option\", {\n      value: \"Miami, FL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Miami, FL\"), React.createElement(\"option\", {\n      value: \"sport\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Filter by sport:\"), React.createElement(\"option\", {\n      value: \"Soccer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Soccer\"), React.createElement(\"option\", {\n      value: \"Football\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Football\"), React.createElement(\"option\", {\n      value: \"Volleyball\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Volleyball\"), React.createElement(\"option\", {\n      value: \"Baseball\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Baseball\"), React.createElement(\"option\", {\n      value: \"Ice Hockey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Ice Hockey\"), React.createElement(\"option\", {\n      value: \"e_num\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Sort by:\"), React.createElement(\"option\", {\n      value: \"event_number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Events number\"), React.createElement(\"option\", {\n      value: \"team_number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Teams number\")))) : null, this.state.groupsAvailable.length !== 0 ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, this.props.add === 0 && this.props.currentUser !== null ? React.createElement(\"button\", {\n      style: {\n        marginTop: \"50px\",\n        marginBottom: \"50px\"\n      },\n      onClick: this.createGroup,\n      className: \"dash_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Create new Group\") : null, this.state.groupsAvailable.map(group => React.createElement(GroupCard, {\n      key: group.id,\n      group: group.attributes,\n      add: this.props.add,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }))) : React.createElement(\"div\", {\n      className: \"dash_main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"main_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Sorry, there are no groups created for this type of sport yet.\"), React.createElement(\"h1\", {\n      className: \"main_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"It's a great opportunity to be the first: \"), React.createElement(NavLink, {\n      to: \"/dashboard\",\n      className: \"main_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Go back to dashboard...\")));\n  }\n\n}\n\nfunction msp(state) {\n  return {\n    currentUser: state.userReducer.currentUser,\n    myTeam: state.teamReducer.currentTeam,\n    sportId: state.teamReducer.currentSportId\n  };\n}\n\nexport default connect(msp)(GroupsContainer);","map":{"version":3,"sources":["/Users/slavaP/Desktop/labs/Final_Project/goplay_frontend/src/GroupsContainer.js"],"names":["React","Fragment","Redirect","NavLink","connect","GroupCard","GroupsContainer","Component","state","groupsAvailable","unfilteredAvailable","created","handleChange","event","target","value","setState","filter","group","attributes","location","sort_by","console","log","createGroup","componentDidMount","fetch","then","res","json","groups","props","add","data","filteredGroup","activity","id","myTeam","activity_id","find","currGroup","componentDidUpdate","prevProps","render","right","marginTop","marginBottom","width","textAlignLast","length","currentUser","map","msp","userReducer","teamReducer","currentTeam","sportId","currentSportId"],"mappings":"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","sourcesContent":["import React, {Fragment} from \"react\";\nimport { Redirect, NavLink } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport GroupCard from './GroupCard';\n\nclass GroupsContainer extends React.Component{\n    state= {\n        groupsAvailable: [],\n        unfilteredAvailable: [],\n        created: false\n    }\n\n    componentDidMount(){\n        fetch(\"http://localhost:3000/api/v1/groups\")\n        .then(res => res.json())\n        .then(groups => {\n\n            if(this.props.add === 0){\n                this.setState({\n                    groupsAvailable: groups.groups.data,\n                    unfilteredAvailable: groups.groups.data\n                })\n            }else{\n                console.log(this.props, groups.groups.data)\n                let filteredGroup = groups.groups.data.filter(group => group.attributes.activity.id === this.props.myTeam.attributes.activity_id && !this.props.myTeam.attributes.groups.find(currGroup => currGroup.id === group.attributes.id))\n                this.setState({\n                    groupsAvailable: filteredGroup\n                })\n            }\n        })\n    }\n\n    handleChange = (event) => {\n        switch (event.target.value) {\n            case 'New York, NY':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable.filter(group => group.attributes.location === event.target.value)\n                })\n                break;\n            case 'Los Angeles, CA':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n            case 'Miami, FL':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n            case 'Soccer':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n            case 'Volleyball':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n            case 'Baseball':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n            case 'Ice Hockey':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n            case 'New York, NY':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n            case 'event_number':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n            case 'team_number':\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n            default:\n                this.setState({\n                    groupsAvailable: this.state.unfilteredAvailable\n                })\n                break;\n        }\n        this.setState({\n          sort_by: event.target.value\n        })\n        console.log(event.target.value)\n    }\n\n    componentDidUpdate(prevProps){\n        if(prevProps.myTeam !== this.props.myTeam){\n            fetch(\"http://localhost:3000/api/v1/groups\")\n            .then(res => res.json())\n            .then(groups => {\n\n                if(this.props.add === 0){\n                    this.setState({\n                        groupsAvailable: groups.groups.data,\n                        unfilteredAvailable: groups.groups.data\n                    })\n                }else{\n                    console.log(groups.groups.data)\n                    let filteredGroup = groups.groups.data.filter(group => group.attributes.activity.id === this.props.myTeam.attributes.activity_id)\n                    this.setState({groupsAvailable: filteredGroup})\n                }\n            })\n        }\n    }\n\n    createGroup = () => {\n        this.setState({\n            created: true\n        })\n    }\n\n    render(){\n        if(this.state.created){\n            this.setState({\n                created: false\n            })\n            return <Redirect to=\"/create_group\" />\n        }\n        return (\n        <div className=\"search-main\">\n            {\n            this.props.add === 0 ?\n            <form onChange={this.handleChange} className='form'>\n                <p className='field' style={{right: \"0\" ,marginTop: \"-20px\", marginBottom: \"0px\", width: \"100%\"}}>\n                    <select className='select' style={{textAlignLast: \"center\"}} defaultValue='' name=\"location\" id='select'>\n                    <option value=''>Sort or filter by:</option>\n                    <option value='location' disabled>Filter by location:</option>\n                    <option value='New York, NY'>New York, NY</option>\n                    <option value='Los Angeles, CA'>Los Angeles, CA</option>\n                    <option value='Miami, FL'>Miami, FL</option>\n                    <option value='sport' disabled>Filter by sport:</option>\n                    <option value='Soccer'>Soccer</option>\n                    <option value='Football'>Football</option>\n                    <option value='Volleyball'>Volleyball</option>\n                    <option value='Baseball'>Baseball</option>\n                    <option value='Ice Hockey'>Ice Hockey</option>\n                    <option value='e_num' disabled>Sort by:</option>\n                    <option value='event_number' >Events number</option>\n                    <option value='team_number' >Teams number</option>\n                    {/* {this.props.currentUser.user.data.attributes.activities.sort((a, b) => a.id - b.id).map(sport => <option key={sport.id} value={sport.id}>{sport.name}</option>)} */}\n                    </select>\n                </p> \n            </form>\n            :\n            null\n            }\n            {this.state.groupsAvailable.length !== 0 ?\n            <Fragment>\n                {this.props.add === 0 && this.props.currentUser !== null ?\n                    <button style={{marginTop: \"50px\", marginBottom: \"50px\"}} onClick={this.createGroup} className='dash_button'>Create new Group</button>\n                    :\n                    null\n                }\n                {this.state.groupsAvailable.map(group => <GroupCard key={group.id} group={group.attributes} add={this.props.add} />)}\n            </Fragment>\n            :\n            <div className=\"dash_main\">\n                <h1 className=\"main_text\" >Sorry, there are no groups created for this type of sport yet.</h1>\n                <h1 className=\"main_text\" >It's a great opportunity to be the first: </h1>\n                <NavLink to=\"/dashboard\" className=\"main_text\">Go back to dashboard...</NavLink>\n            </div>\n            }\n        </div>\n        );\n    }\n}\n\nfunction msp(state){\n    return {\n        currentUser: state.userReducer.currentUser,\n        myTeam: state.teamReducer.currentTeam,\n        sportId: state.teamReducer.currentSportId\n    }\n}\n\nexport default connect(msp)(GroupsContainer)"]},"metadata":{},"sourceType":"module"}