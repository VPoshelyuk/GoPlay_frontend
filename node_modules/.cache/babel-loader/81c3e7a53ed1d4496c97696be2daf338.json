{"ast":null,"code":"var _jsxFileName = \"/Users/slavaP/Desktop/labs/Final_Project/goplay_frontend/src/TeamSignUp.js\";\nimport React, { Fragment } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nclass TeamSignUp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      logo_path: \"\",\n      phone_number: \"\",\n      birthday: \"\",\n      gender: \"\",\n      bio: \"\",\n      won_games: 0,\n      tie_games: 0,\n      lost_games: 0,\n      admin: 0,\n      team_id: null,\n      activity_ids: [],\n      password: \"\",\n      passwordConfirmation: \"\"\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.addActivities = event => {\n      if (this.state.activity_ids.find(el => el === event.target.value)) {\n        this.setState({\n          activity_ids: this.state.activity_ids.filter(el => el !== event.target.value)\n        });\n      } else {\n        this.setState({\n          activity_ids: [...this.state.activity_ids, event.target.value]\n        });\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      console.log(e.target);\n\n      if (this.state.password === this.state.passwordConfirmation) {\n        fetch(\"http://localhost:3000/api/v1/signup\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n          },\n          body: JSON.stringify(this.state)\n        }).then(res => res.json()).then(response => {\n          if (response.errors) {\n            alert(response.errors);\n          } else {\n            this.props.setUser(response);\n            localStorage.token = response.token;\n            fetch(\"http://localhost:3000/api/v1/user_activities\", {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\"\n              },\n              body: JSON.stringify({\n                user_id: response.user.data.attributes.id,\n                sports: this.state.activity_ids\n              })\n            }).then(res => res.json()).then(console.log);\n            this.setState({\n              first_name: \"\",\n              last_name: \"\",\n              username: \"\",\n              location: \"\",\n              email: \"\",\n              phone_number: \"\",\n              birthday: \"\",\n              gender: \"\",\n              bio: \"\",\n              admin: 0,\n              team_id: null,\n              activity_ids: [],\n              password: \"\",\n              passwordConfirmation: \"\"\n            });\n          }\n        });\n      } else {\n        alert(\"Passwords don't match!\");\n      }\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n\n    if (this.props.email !== \"\" && this.props.password !== \"\") {\n      this.setState({\n        email: this.props.email,\n        password: this.props.password,\n        passwordConfirmation: this.props.password\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"signup-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"field required half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label required\",\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      className: \"text-input\",\n      id: \"name\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      required: true,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"field required half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"logo_path\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"E-mail\"), React.createElement(\"input\", {\n      className: \"text-input\",\n      id: \"logo_path\",\n      name: \"logo_path\",\n      value: this.state.logo_path,\n      onChange: this.handleChange,\n      required: true,\n      type: \"logo_path\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"field half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"phone_number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"input\", {\n      className: \"text-input\",\n      id: \"phone_number\",\n      name: \"phone_number\",\n      value: this.state.phone_number,\n      onChange: this.handleChange,\n      type: \"phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"field half required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"birthday\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Birthday\"), React.createElement(\"input\", {\n      className: \"text-input\",\n      id: \"birthday\",\n      name: \"birthday\",\n      value: this.state.birthday,\n      onChange: this.handleChange,\n      required: true,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"field half required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"gender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Gender\"), React.createElement(\"input\", {\n      className: \"text-input\",\n      id: \"gender\",\n      name: \"gender\",\n      value: this.state.gender,\n      onChange: this.handleChange,\n      required: true,\n      type: \"gender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Choose your sports:\"), React.createElement(\"ul\", {\n      className: \"checkboxes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.addActivities,\n      className: \"checkbox-input\",\n      id: \"choice-1\",\n      name: \"choice\",\n      type: \"checkbox\",\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"checkbox-label\",\n      htmlFor: \"choice-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Soccer\")), React.createElement(\"li\", {\n      className: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.addActivities,\n      className: \"checkbox-input\",\n      id: \"choice-2\",\n      name: \"choice\",\n      type: \"checkbox\",\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"checkbox-label\",\n      htmlFor: \"choice-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Football\")), React.createElement(\"li\", {\n      className: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.addActivities,\n      className: \"checkbox-input\",\n      id: \"choice-3\",\n      name: \"choice\",\n      type: \"checkbox\",\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"checkbox-label\",\n      htmlFor: \"choice-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Basketball\")), React.createElement(\"li\", {\n      className: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.addActivities,\n      className: \"checkbox-input\",\n      id: \"choice-4\",\n      name: \"choice\",\n      type: \"checkbox\",\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"checkbox-label\",\n      htmlFor: \"choice-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Volleyball\")), React.createElement(\"li\", {\n      className: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.addActivities,\n      className: \"checkbox-input\",\n      id: \"choice-5\",\n      name: \"choice\",\n      type: \"checkbox\",\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"checkbox-label\",\n      htmlFor: \"choice-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Baseball\")), React.createElement(\"li\", {\n      className: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.addActivities,\n      className: \"checkbox-input\",\n      id: \"choice-6\",\n      name: \"choice\",\n      type: \"checkbox\",\n      value: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"checkbox-label\",\n      htmlFor: \"choice-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Ice Hockey\")))), React.createElement(\"p\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"bio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Bio\"), React.createElement(\"textarea\", {\n      className: \"textarea\",\n      cols: \"50\",\n      id: \"bio\",\n      name: \"bio\",\n      value: this.state.bio,\n      onChange: this.handleChange,\n      rows: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"field half required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      className: \"text-input\",\n      id: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      required: true,\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"field half required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"passwordConfirmation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Password Confirmation\"), React.createElement(\"input\", {\n      className: \"text-input\",\n      id: \"passwordConfirmation\",\n      name: \"passwordConfirmation\",\n      value: this.state.passwordConfirmation,\n      onChange: this.handleChange,\n      required: true,\n      type: \"passwordConfirmation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"button\",\n      type: \"submit\",\n      value: \"Sign Up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nfunction msp(state) {\n  return {\n    currentUser: state.userReducer.currentUser,\n    sportId: state.teamReducer.currentSportId\n  };\n}\n\nexport default connect(msp)(TeamSignUp);","map":{"version":3,"sources":["/Users/slavaP/Desktop/labs/Final_Project/goplay_frontend/src/TeamSignUp.js"],"names":["React","Fragment","Redirect","connect","TeamSignUp","Component","state","name","logo_path","phone_number","birthday","gender","bio","won_games","tie_games","lost_games","admin","team_id","activity_ids","password","passwordConfirmation","handleChange","event","setState","target","value","addActivities","find","el","filter","handleSubmit","e","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","response","errors","alert","props","setUser","localStorage","token","user_id","user","data","attributes","id","sports","first_name","last_name","username","location","email","componentDidMount","render","msp","currentUser","userReducer","sportId","teamReducer","currentSportId"],"mappings":"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","sourcesContent":["import React, {Fragment} from \"react\";\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nclass TeamSignUp extends React.Component{\n    state = {\n        name: \"\",\n        logo_path: \"\",\n        phone_number: \"\",\n        birthday: \"\",\n        gender: \"\",\n        bio: \"\",\n        won_games: 0,\n        tie_games: 0,\n        lost_games: 0,\n        admin: 0,\n        team_id: null,\n        activity_ids: [],\n        password: \"\",\n        passwordConfirmation: \"\"\n    }\n\n    handleChange = (event) => {\n        this.setState({\n          [event.target.name]: event.target.value\n        })\n    }\n\n    addActivities = (event) => {\n        if(this.state.activity_ids.find(el => el === event.target.value)){\n            this.setState({\n                activity_ids: this.state.activity_ids.filter(el => el !== event.target.value)\n            })\n        }else{\n            this.setState({\n                activity_ids: [...this.state.activity_ids, event.target.value]\n            })\n        }\n    }\n    \n    handleSubmit = (e) => {\n        e.preventDefault()\n        console.log(e.target)\n        if (this.state.password === this.state.passwordConfirmation){\n            fetch(\"http://localhost:3000/api/v1/signup\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\"\n            },\n            body: JSON.stringify(this.state)\n            })\n            .then(res => res.json())\n            .then(response => {\n            if(response.errors){\n                alert(response.errors)\n            } else {\n                this.props.setUser(response)\n                localStorage.token = response.token\n\n                fetch(\"http://localhost:3000/api/v1/user_activities\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Accept\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        user_id: response.user.data.attributes.id,\n                        sports: this.state.activity_ids\n                    })\n                })\n                .then(res => res.json())\n                .then(console.log)\n\n                this.setState({\n                    first_name: \"\",\n                    last_name: \"\",\n                    username: \"\",\n                    location: \"\",\n                    email: \"\",\n                    phone_number: \"\",\n                    birthday: \"\",\n                    gender: \"\",\n                    bio: \"\",\n                    admin: 0,\n                    team_id: null,\n                    activity_ids: [],\n                    password: \"\",\n                    passwordConfirmation: \"\"\n                })\n            }\n            })\n        } else {\n            alert(\"Passwords don't match!\")\n        }\n\n    }\n\n    componentDidMount(){\n        console.log(this.props)\n        if(this.props.email !== \"\" && this.props.password !== \"\"){\n            this.setState({\n                email: this.props.email,\n                password: this.props.password,\n                passwordConfirmation: this.props.password\n            })\n        }\n    }\n      \n    \n\n    render(){\n        return (\n        <div className=\"signup-main\">\n            <form onSubmit={this.handleSubmit} className='form'>\n            <p className='field required half'>\n                <label className='label required' htmlFor='name'>Name</label>\n                <input className='text-input' id='name' name='name' value={this.state.name} onChange={this.handleChange} required type='text'/>\n            </p>\n            <p className='field required half'>\n                <label className='label' htmlFor='logo_path'>E-mail</label>\n                <input className='text-input' id='logo_path' name='logo_path' value={this.state.logo_path} onChange={this.handleChange} required type='logo_path' />\n            </p>\n            <p className='field half'>\n                <label className='label' htmlFor='phone_number'>Phone</label>\n                <input className='text-input' id='phone_number' name='phone_number' value={this.state.phone_number} onChange={this.handleChange} type='phone'/>\n            </p>\n            <p className='field half required'>\n                <label className='label' htmlFor='birthday'>Birthday</label>\n                <input className='text-input' id='birthday' name='birthday' value={this.state.birthday} onChange={this.handleChange} required type='text' />\n            </p>\n            <p className='field half required'>\n                <label className='label' htmlFor='gender'>Gender</label>\n                <input className='text-input' id='gender' name='gender' value={this.state.gender} onChange={this.handleChange} required type='gender'/>\n            </p>\n            <div className='field'>\n                <label className='label'>Choose your sports:</label>\n                <ul className='checkboxes'>\n                <li className='checkbox'>\n                    <input onChange={this.addActivities} className='checkbox-input' id='choice-1' name='choice' type='checkbox' value='1' />\n                    <label className='checkbox-label' htmlFor='choice-1'>Soccer</label>\n                </li>\n                <li className='checkbox'>\n                    <input onChange={this.addActivities} className='checkbox-input' id='choice-2' name='choice' type='checkbox' value='2' />\n                    <label className='checkbox-label' htmlFor='choice-2'>Football</label>\n                </li>\n                <li className='checkbox'>\n                    <input onChange={this.addActivities} className='checkbox-input' id='choice-3' name='choice' type='checkbox' value='3' />\n                    <label className='checkbox-label' htmlFor='choice-3'>Basketball</label>\n                </li>\n                <li className='checkbox'>\n                    <input onChange={this.addActivities} className='checkbox-input' id='choice-4' name='choice' type='checkbox' value='4' />\n                    <label className='checkbox-label' htmlFor='choice-4'>Volleyball</label>\n                </li>\n                <li className='checkbox'>\n                    <input onChange={this.addActivities} className='checkbox-input' id='choice-5' name='choice' type='checkbox' value='5' />\n                    <label className='checkbox-label' htmlFor='choice-5'>Baseball</label>\n                </li>\n                <li className='checkbox'>\n                    <input onChange={this.addActivities} className='checkbox-input' id='choice-6' name='choice' type='checkbox' value='6' />\n                    <label className='checkbox-label' htmlFor='choice-6'>Ice Hockey</label>\n                </li>\n                </ul>\n            </div>\n            <p className='field'>\n                <label className='label' htmlFor='bio'>Bio</label>\n                <textarea className='textarea' cols='50' id='bio' name='bio' value={this.state.bio} onChange={this.handleChange} rows='4'></textarea>\n            </p>\n            <p className='field half required'>\n                <label className='label' htmlFor='password'>Password</label>\n                <input className='text-input' id='password' name='password' value={this.state.password} onChange={this.handleChange} required type='password'/>\n            </p>\n            <p className='field half required'>\n                <label className='label' htmlFor='passwordConfirmation'>Password Confirmation</label>\n                <input className='text-input' id='passwordConfirmation' name='passwordConfirmation' value={this.state.passwordConfirmation} onChange={this.handleChange} required type='passwordConfirmation'/>\n            </p>\n            <p className='field'>\n                <input className='button' type='submit' value='Sign Up' />\n            </p>\n            </form>\n        </div>\n        );\n    }\n}\n\nfunction msp(state){\n    return {\n        currentUser: state.userReducer.currentUser,\n        sportId: state.teamReducer.currentSportId\n    }\n}\n\nexport default connect(msp)(TeamSignUp)"]},"metadata":{},"sourceType":"module"}